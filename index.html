<!doctype html>
<html lang="bn">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Saikat Tech Hub | Premium Digital Services</title>
  <meta name="description" content="Saikat Tech Hub ‚Äî Social Growth, Boosting, Editing, Marketing. Order via WhatsApp with secure payment flow." />

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&family=Hind+Siliguri:wght@400;600;700&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

  <style>
    :root{
      --bg:#0b1220;
      --text:#f8fafc;
      --muted:#a8b3d6;
      --line:rgba(255,255,255,.12);
      --card1:#0f172a;
      --card2:#020617;
      --brand:#3b82f6;
      --green:#22c55e;
      --pink:#ec4899;
      --radius:22px;
      --shadow:0 22px 60px rgba(0,0,0,.55);
    }
    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{
      margin:0;
      font-family:'Poppins','Hind Siliguri',system-ui,-apple-system,Segoe UI,Roboto,Arial;
      color:var(--text);
      background:
        radial-gradient(900px 600px at 12% -10%, rgba(59,130,246,.36), transparent 62%),
        radial-gradient(900px 600px at 92% 0%, rgba(236,72,153,.30), transparent 60%),
        radial-gradient(900px 700px at 50% 120%, rgba(34,197,94,.16), transparent 60%),
        var(--bg);
    }
    a{color:inherit;text-decoration:none}
    .container{max-width:720px;margin:0 auto;padding:14px}

    /* Mobile-only */
    @media (min-width: 981px){
      body::before{
        content:"‡¶è‡¶á ‡¶ì‡ßü‡ßá‡¶¨‡¶∏‡¶æ‡¶á‡¶ü Mobile (Phone) ‡¶è‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ö‡¶™‡ßç‡¶ü‡¶ø‡¶Æ‡¶æ‡¶á‡¶ú ‡¶ï‡¶∞‡¶æ‡•§ Phone view/Responsive mode ‡¶Ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®‡•§";
        position:fixed;inset:0;
        display:flex;align-items:center;justify-content:center;
        padding:30px;
        background:rgba(0,0,0,.8);
        color:#fff;
        z-index:9999;
        text-align:center;
        font-weight:800;
      }
    }

    header{
      position:sticky;top:0;z-index:50;
      background:rgba(11,18,32,.86);
      backdrop-filter: blur(12px);
      border-bottom:1px solid var(--line);
    }
    .header-inner{display:flex;align-items:center;gap:10px;flex-wrap:wrap;padding:10px 0}
    .logo{
      font-size:18px;font-weight:900;letter-spacing:.2px;
      display:flex;align-items:center;gap:10px;
    }
    .mark{
      width:38px;height:38px;border-radius:14px;
      background:linear-gradient(135deg, rgba(96,165,250,.95), rgba(236,72,153,.86));
      box-shadow:0 20px 45px rgba(59,130,246,.22);
      display:grid;place-items:center;
      overflow:hidden;
      border:1px solid rgba(255,255,255,.14);
    }
    .mark img{width:100%;height:100%;object-fit:cover}
    nav{margin-left:auto;display:flex;gap:8px;flex-wrap:wrap}
    nav a{
      padding:10px 12px;border-radius:14px;
      font-weight:800;color:var(--muted);font-size:13px;
      border:1px solid transparent;
    }
    nav a:active{transform:scale(.98)}
    nav a:hover{background:rgba(255,255,255,.10);color:var(--text);border-color:var(--line)}
    .btn{
      display:inline-flex;align-items:center;gap:10px;
      border:0;cursor:pointer;
      padding:12px 14px;border-radius:999px;
      font-weight:900;color:#fff;
      box-shadow:var(--shadow);
      transition:.12s ease;
      white-space:nowrap;
      font-size:13px;
    }
    .btn:active{transform: scale(.98)}
    .btn.wa{background:linear-gradient(135deg,#22c55e,#16a34a)}
    .btn.fb{background:linear-gradient(135deg,#3b82f6,#2563eb)}
    .btn.pink{background:linear-gradient(135deg,#ec4899,#f472b6)}
    .btn.ghost{
      background:rgba(255,255,255,.08);
      border:1px solid var(--line);
      box-shadow:none;
      color:var(--text);
    }
    .btn.dark{
      background:rgba(255,255,255,.10);
      border:1px solid rgba(255,255,255,.14);
      box-shadow:none;
      color:var(--text);
    }

    .cover{
      border-radius:var(--radius);
      border:1px solid var(--line);
      background:rgba(255,255,255,.06);
      box-shadow:var(--shadow);
      overflow:hidden;
      position:relative;
    }
    .cover .img{
      height:150px;
      background:linear-gradient(135deg, rgba(96,165,250,.25), rgba(236,72,153,.20));
      display:grid;place-items:center;
      border-bottom:1px solid var(--line);
      overflow:hidden;
    }
    .cover .img img{width:100%;height:100%;object-fit:cover}
    .cover .content{padding:14px}
    .title{
      margin:0 0 6px;
      font-size:22px;
      line-height:1.15;
      font-weight:900;
      letter-spacing:.2px;
    }
    .tagline{
      margin:0;color:var(--muted);line-height:1.7;font-size:13.5px;
      font-family:'Hind Siliguri','Poppins',system-ui;
    }

    .quick{
      margin-top:12px;
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:10px;
    }
    .card{
      border-radius:18px;
      border:1px solid var(--line);
      background:linear-gradient(180deg, var(--card1), var(--card2));
      box-shadow:var(--shadow);
      padding:14px;
      overflow:hidden;
    }
    .tag{
      display:inline-flex;align-items:center;gap:8px;
      padding:7px 10px;border-radius:999px;
      border:1px solid var(--line);
      background:rgba(255,255,255,.07);
      font-weight:900;font-size:11px;
      color:#e5e7eb;
    }

    .section{padding:16px 0 26px}
    .section-title{font-size:18px;margin:0 0 10px}
    .subline{margin:0 0 12px;color:var(--muted);line-height:1.7;font-size:13.5px;font-family:'Hind Siliguri','Poppins'}

    .chips{display:flex;gap:10px;flex-wrap:wrap;margin:10px 0 12px}
    .chip{
      padding:10px 12px;border-radius:999px;
      border:1px solid var(--line);
      background:rgba(255,255,255,.07);
      color:var(--text);
      font-weight:900;
      font-size:12px;
      cursor:pointer;
      user-select:none;
    }
    .chip.active{outline:2px solid rgba(59,130,246,.45)}
    .grid{display:grid;grid-template-columns:1fr;gap:12px}

    .item h3{margin:10px 0 6px;font-size:16px}
    .item p{margin:0 0 12px;color:var(--muted);font-size:13px;line-height:1.65;font-family:'Hind Siliguri','Poppins'}
    .actions{display:flex;gap:10px;flex-wrap:wrap}

    .thumb{
      width:100%;
      height:150px;
      border-radius:16px;
      border:1px solid var(--line);
      background:rgba(255,255,255,.05);
      overflow:hidden;
      display:grid;place-items:center;
    }
    .thumb img{width:100%;height:100%;object-fit:cover}
    .ph{color:var(--muted);font-weight:800;font-size:12px}

    /* Overlays / modal */
    .overlay{
      position:fixed;inset:0;z-index:200;
      display:none;
      background:rgba(0,0,0,.66);
      padding:12px;
      align-items:stretch;
      justify-content:center;
    }
    .overlay.show{display:flex}
    .modal{
      width:100%;
      max-width:720px;
      border-radius:22px;
      border:1px solid var(--line);
      background:rgba(12,18,33,.96);
      box-shadow:var(--shadow);
      overflow:hidden;
      display:flex;
      flex-direction:column;
      height:100%;
      max-height:100%;
    }
    .modal-head{
      padding:14px 14px;
      display:flex;align-items:center;justify-content:space-between;gap:10px;
      border-bottom:1px solid var(--line);
      background:rgba(0,0,0,.12);
    }
    .modal-head b{font-size:15px}
    .close-x{
      border:0;background:transparent;color:var(--muted);
      font-size:22px;cursor:pointer;
    }
    .close-x:hover{color:var(--text)}
    .modal-body{
      padding:14px;
      overflow:auto;
      -webkit-overflow-scrolling:touch;
      flex:1;
      padding-bottom:120px;
    }
    .modal-actions{
      display:flex;justify-content:flex-end;gap:10px;flex-wrap:wrap;
      padding:12px 14px;
      border-top:1px solid var(--line);
      background:rgba(0,0,0,.20);
      position:sticky;
      bottom:0;
      z-index:5;
      backdrop-filter: blur(10px);
    }

    .box{
      border-radius:18px;
      border:1px solid var(--line);
      background:rgba(2,6,23,.55);
      padding:14px;
    }
    .field{display:flex;flex-direction:column;gap:8px;margin-top:10px}
    .field label{font-size:12px;color:var(--muted);font-weight:900}
    .field select,.field input,.field textarea{
      border-radius:14px;border:1px solid var(--line);
      background:rgba(255,255,255,.07);
      color:var(--text);
      padding:12px 12px;
      outline:none;
      font-size:14px;
      font-family:inherit;
    }
    .field textarea{min-height:92px;resize:vertical}

    .toast{
      position:fixed;
      left:50%;
      bottom:18px;
      transform:translateX(-50%);
      z-index:500;
      max-width:92vw;
      background:rgba(12,18,33,.95);
      border:1px solid var(--line);
      box-shadow:var(--shadow);
      border-radius:16px;
      padding:12px 14px;
      display:none;
      gap:10px;
      align-items:flex-start;
    }
    .toast.show{display:flex}
    .toast .ticon{font-size:18px}
    .toast .ttitle{font-weight:900}
    .toast .tmsg{color:var(--muted);font-size:12.5px;line-height:1.55;margin-top:2px;font-family:'Hind Siliguri','Poppins'}
    body.admin-open{overflow:hidden}
    .muted{color:var(--muted)}
  </style>
</head>

<body>

<!-- ======================
     CONFIG (Your fixed info stays)
====================== -->
<script>
  const FIXED = {
    waNumber: "8801804676711",
    waRaw: "01804676711",
    email: "saikat712@gmail.com",
    fb: "https://www.facebook.com/share/1AWbo99RjN/",
    address: "Dhaka New Market, 1205",
    payment: { bkash: "+8801344-486384", nagad: "01682312657" }
  };

  // Admin login (only you)
  const ADMIN_DEFAULT = { user:"saikat@gmail.com", pass:"676711@" };
  const PRIVACY_PASS = "1234@6711";
</script>

<header>
  <div class="container">
    <div class="header-inner">
      <div class="logo">
        <span class="mark" id="logoMark" aria-hidden="true"><span style="font-weight:900">S</span></span>
        <span id="brandNameTop">Saikat Tech Hub</span>
      </div>

      <nav>
        <a href="#services">Services</a>
        <a href="#products">Products</a>
        <a href="#contact">Contact</a>
        <a href="javascript:void(0)" id="openAdminBtn" class="btn dark" style="padding:10px 12px">
          <i class="fa-solid fa-user-gear"></i> Admin
        </a>
      </nav>
    </div>
  </div>
</header>

<main class="container" style="padding-top:14px">

  <section class="cover" id="top">
    <div class="img" id="coverArea">
      <div class="ph"><i class="fa-solid fa-panorama"></i> Cover</div>
    </div>
    <div class="content">
      <h1 class="title" id="brandTitle">Assalamu Alaikum üëã</h1>
      <p class="tagline" id="brandTagline">Saikat Tech Hub ‡¶è ‡¶Ü‡¶™‡¶®‡¶æ‡¶ï‡ßá ‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ‡•§ ‡¶®‡¶ø‡¶ö ‡¶•‡ßá‡¶ï‡ßá Service/Product select ‡¶ï‡¶∞‡ßá WhatsApp ‡¶è ‡¶Ö‡¶ü‡ßã ‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞ ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡•§ ‚úÖ No password ‚Ä¢ ‚úÖ Safe ‚Ä¢ ‚úÖ Fast</p>

      <div class="quick" id="quickInfo"></div>

      <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:12px">
        <a class="btn wa" id="waBtnTop" target="_blank" rel="noreferrer" href="#">
          <i class="fa-brands fa-whatsapp"></i> WhatsApp
        </a>
        <a class="btn fb" id="fbBtnTop" target="_blank" rel="noreferrer" href="#">
          <i class="fa-brands fa-facebook"></i> Facebook
        </a>
      </div>
    </div>
  </section>

  <section class="section" id="services">
    <h2 class="section-title">Social Media Services</h2>
    <p class="subline">Service select ‡¶ï‡¶∞‡ßá Order ‡¶ï‡¶∞‡¶≤‡ßá ‡¶Ü‡¶≤‡¶æ‡¶¶‡¶æ Payment page ‡¶ñ‡ßÅ‡¶≤‡¶¨‡ßá‚ÄîTrxID ‡¶¶‡¶ø‡ßü‡ßá WhatsApp submit ‡¶π‡¶¨‡ßá‡•§</p>
    <div class="chips" id="svcChips"></div>
    <div class="grid" id="svcGrid"></div>
  </section>

  <section class="section" id="products">
    <h2 class="section-title">Products</h2>
    <p class="subline">‡¶™‡¶£‡ßç‡¶Ø ‡¶ï‡¶ø‡¶®‡¶§‡ßá Order ‡¶ï‡¶∞‡ßÅ‡¶®‚ÄîPayment + TrxID ‡¶¶‡¶ø‡ßü‡ßá WhatsApp ‡¶è ‡¶Ø‡¶æ‡¶¨‡ßá‡•§</p>
    <div class="chips" id="prdChips"></div>
    <div class="grid" id="prdGrid"></div>
  </section>

  <section class="section" id="contact">
    <h2 class="section-title">Contact</h2>
    <p class="subline">Tap ‡¶ï‡¶∞‡¶≤‡ßá ‡¶∏‡¶∞‡¶æ‡¶∏‡¶∞‡¶ø open ‡¶π‡¶¨‡ßá</p>

    <div class="grid">
      <div class="card item">
        <span class="tag"><i class="fa-brands fa-whatsapp"></i> WhatsApp</span>
        <h3>Chat Now</h3>
        <p>WhatsApp chat ‡¶ì‡¶™‡ßá‡¶® ‡¶π‡¶¨‡ßá</p>
        <div class="actions">
          <a class="btn wa" id="waBtnContact" target="_blank" rel="noreferrer" href="#">
            <i class="fa-brands fa-whatsapp"></i> Chat
          </a>
        </div>
      </div>

      <div class="card item">
        <span class="tag"><i class="fa-brands fa-facebook"></i> Facebook</span>
        <h3>Visit Page</h3>
        <p>Facebook page ‡¶ì‡¶™‡ßá‡¶® ‡¶π‡¶¨‡ßá</p>
        <div class="actions">
          <a class="btn fb" id="fbBtnContact" target="_blank" rel="noreferrer" href="#">
            <i class="fa-brands fa-facebook"></i> Open
          </a>
        </div>
      </div>

      <div class="card item">
        <span class="tag"><i class="fa-solid fa-envelope"></i> Email</span>
        <h3>Send Email</h3>
        <p>Email compose ‡¶ì‡¶™‡ßá‡¶® ‡¶π‡¶¨‡ßá</p>
        <div class="actions">
          <a class="btn ghost" id="emailBtn" href="#">
            <i class="fa-solid fa-envelope"></i> Email
          </a>
        </div>
      </div>
    </div>

    <div class="muted" style="margin-top:14px;font-size:12.5px">
      ¬© <span id="yearNow"></span> <span id="brandFooter">Saikat Tech Hub</span> ‚Äî All Rights Reserved
    </div>
  </section>
</main>

<!-- ======================
     ORDER MODAL (Service/Product)
====================== -->
<div class="overlay" id="orderOverlay" aria-hidden="true">
  <div class="modal" role="dialog" aria-modal="true">
    <div class="modal-head">
      <b id="orderTitle"><i class="fa-solid fa-cart-shopping"></i> Order</b>
      <button class="close-x" id="closeOrder" aria-label="Close">‚úï</button>
    </div>

    <div class="modal-body" id="orderBody"></div>

    <div class="modal-actions">
      <button class="btn ghost" id="cancelOrder"><i class="fa-solid fa-xmark"></i> Close</button>
      <button class="btn pink" id="sendWaBtn"><i class="fa-brands fa-whatsapp"></i> Send Order</button>
    </div>
  </div>
</div>

<!-- ======================
     ADMIN MODAL
====================== -->
<div class="overlay" id="adminOverlay" aria-hidden="true">
  <div class="modal" role="dialog" aria-modal="true">
    <div class="modal-head">
      <b><i class="fa-solid fa-shield-halved"></i> Admin</b>
      <button class="close-x" id="closeAdmin" aria-label="Close">‚úï</button>
    </div>
    <div class="modal-body" id="adminBody"></div>
    <div class="modal-actions">
      <button class="btn ghost" id="adminCloseBtn"><i class="fa-solid fa-xmark"></i> Close</button>
    </div>
  </div>
</div>

<div class="toast" id="toast">
  <div class="ticon" id="tIcon">‚úÖ</div>
  <div>
    <div class="ttitle" id="tTitle">Saved</div>
    <div class="tmsg" id="tMsg">Done</div>
  </div>
</div>

<script>
/* =========================
   Utilities
========================= */
const $ = (s)=>document.querySelector(s);
function escapeHtml(str){
  return String(str||"")
    .replaceAll("&","&amp;")
    .replaceAll("<","&lt;")
    .replaceAll(">","&gt;")
    .replaceAll('"',"&quot;")
    .replaceAll("'","&#039;");
}
function writeJSON(key,val){ localStorage.setItem(key, JSON.stringify(val)); }
function readJSON(key,fallback){
  try{ const v = localStorage.getItem(key); return v ? JSON.parse(v) : fallback; }
  catch{ return fallback; }
}
function makeId(prefix="id"){ return prefix+"_"+Math.random().toString(16).slice(2)+Date.now().toString(16); }
function toast(title,msg,type="success",ms=1600){
  const t = $("#toast");
  $("#tTitle").textContent = title;
  $("#tMsg").textContent = msg;
  $("#tIcon").textContent = type==="error" ? "‚ùå" : type==="warn" ? "‚ö†Ô∏è" : "‚úÖ";
  t.classList.add("show");
  setTimeout(()=>t.classList.remove("show"), ms);
}

/* =========================
   Storage keys
========================= */
const LS_BRAND = "sth_brand_v1";
const LS_STORE = "sth_store_v1";
const LS_SERVICES = "sth_services_v1";
const LS_PRODUCTS = "sth_products_v1";
const LS_CATS = "sth_categories_v1";
const LS_ADMIN_CREDS = "sth_admin_creds_v1";
const LS_PRIV_UNLOCK = "sth_priv_unlock_v1";
const LS_ADMIN_SESSION = "sth_admin_session_v1";

/* =========================
   Default data
========================= */
let BRAND = readJSON(LS_BRAND, {
  name:"Saikat Tech Hub",
  title:"Assalamu Alaikum üëã",
  tagline:"Saikat Tech Hub ‡¶è ‡¶Ü‡¶™‡¶®‡¶æ‡¶ï‡ßá ‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ‡•§ ‡¶®‡¶ø‡¶ö ‡¶•‡ßá‡¶ï‡ßá Service/Product select ‡¶ï‡¶∞‡ßá WhatsApp ‡¶è ‡¶Ö‡¶ü‡ßã ‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞ ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡•§ ‚úÖ No password ‚Ä¢ ‚úÖ Safe ‚Ä¢ ‚úÖ Fast",
  logoDataUrl:"",
  coverDataUrl:""
});

let STORE = readJSON(LS_STORE, {...FIXED});

let CATEGORIES = readJSON(LS_CATS, ["Gadget","Fashion","Kitchen","Home","Accessories"]);

let SERVICES = readJSON(LS_SERVICES, [
  { id:"fb_followers", category:"Facebook", icon:"fa-brands fa-facebook", title:"Facebook Followers", desc:"Page/Profile followers ‚Ä¢ Safe ‚Ä¢ No password", unitType:"K", pricePerUnit:120, qtyList:[1,2,3,5,10], tags:["Popular","Fast","Safe"] },
  { id:"fb_likes", category:"Facebook", icon:"fa-brands fa-facebook", title:"Facebook Likes", desc:"Page/Post likes ‚Ä¢ Social proof boost", unitType:"K", pricePerUnit:90, qtyList:[1,2,3,5,10], tags:["Trending","Quick","Boost"] },
  { id:"yt_subs", category:"YouTube", icon:"fa-brands fa-youtube", title:"YouTube Subscribers", desc:"Channel subs ‚Ä¢ Promotional growth", unitType:"K", pricePerUnit:350, qtyList:[1,2,3,5], tags:["Growth","Safe","Fast"] },
  { id:"boosting", category:"Marketing", icon:"fa-solid fa-bolt", title:"Boosting / Promotion", desc:"Boost post/page ‚Ä¢ Reach & engagement", unitType:"PACK",
    packages:[{label:"Basic Boost",price:300,note:"Target + basic setup"},{label:"Standard Boost",price:700,note:"Better reach + optimize"},{label:"Premium Boost",price:1500,note:"Best reach + guidance"}],
    tags:["Boosting","Ads","Support"]
  }
]);

let PRODUCTS = readJSON(LS_PRODUCTS, [
  { id:makeId("p"), category:"Gadget", name:"Bluetooth Speaker", sku:"SPK-01", price:899, desc:"High bass ‚Ä¢ Portable", imageDataUrl:"" },
  { id:makeId("p"), category:"Home", name:"LED Night Lamp", sku:"LMP-02", price:299, desc:"Soft light ‚Ä¢ Low power", imageDataUrl:"" }
]);

let adminCreds = readJSON(LS_ADMIN_CREDS, {...ADMIN_DEFAULT});

/* =========================
   Render brand + links
========================= */
function bindTopLinks(){
  const wa = `https://wa.me/${STORE.waNumber}`;
  $("#waBtnTop").href = wa;
  $("#waBtnContact").href = wa;
  $("#fbBtnTop").href = STORE.fb;
  $("#fbBtnContact").href = STORE.fb;
  $("#emailBtn").href = `mailto:${STORE.email}?subject=${encodeURIComponent("Service Inquiry - " + (BRAND.name||"Saikat Tech Hub"))}`;
  $("#yearNow").textContent = String(new Date().getFullYear());
}

function renderBrand(){
  $("#brandNameTop").textContent = BRAND.name || "Saikat Tech Hub";
  $("#brandFooter").textContent = BRAND.name || "Saikat Tech Hub";
  $("#brandTitle").textContent = BRAND.title || "Assalamu Alaikum üëã";
  $("#brandTagline").textContent = BRAND.tagline || "";

  const mark = $("#logoMark");
  mark.innerHTML = "";
  if(BRAND.logoDataUrl){
    const img=document.createElement("img");
    img.src=BRAND.logoDataUrl; img.alt="Logo";
    mark.appendChild(img);
  }else{
    mark.innerHTML = `<span style="font-weight:900">S</span>`;
  }

  const cover = $("#coverArea");
  cover.innerHTML = "";
  if(BRAND.coverDataUrl){
    const img=document.createElement("img");
    img.src=BRAND.coverDataUrl; img.alt="Cover";
    cover.appendChild(img);
  }else{
    cover.innerHTML = `<div class="ph"><i class="fa-solid fa-panorama"></i> Cover</div>`;
  }

  $("#quickInfo").innerHTML = `
    <div class="card">
      <span class="tag"><i class="fa-brands fa-whatsapp"></i> WhatsApp</span>
      <div style="font-weight:900;font-size:14px;margin-top:8px">${escapeHtml(STORE.waRaw)}</div>
      <div class="muted" style="font-size:12px;margin-top:6px">Fast support</div>
    </div>
    <div class="card">
      <span class="tag"><i class="fa-solid fa-wallet"></i> Payment</span>
      <div style="font-weight:900;font-size:12.5px;line-height:1.7;margin-top:8px">
        bKash: ${escapeHtml(STORE.payment.bkash)}<br/>
        Nagad: ${escapeHtml(STORE.payment.nagad)}
      </div>
    </div>
  `;
}

/* =========================
   Services UI
========================= */
let svcFilter = "All";
function serviceCategories(){
  const set = new Set(["All"]);
  SERVICES.forEach(s=>set.add(s.category||"Other"));
  return [...set];
}
function renderServiceChips(){
  const cats = serviceCategories();
  $("#svcChips").innerHTML = cats.map(c=>`
    <span class="chip ${c===svcFilter?"active":""}" data-svc="${escapeHtml(c)}">${escapeHtml(c)}</span>
  `).join("");
}
function renderServices(){
  const list = SERVICES.filter(s => svcFilter==="All" ? true : (s.category===svcFilter));
  $("#svcGrid").innerHTML = list.map(s=>`
    <div class="card item">
      <span class="tag"><i class="${escapeHtml(s.icon||"fa-solid fa-bolt")}"></i> ${escapeHtml(s.category||"Service")}</span>
      <h3>${escapeHtml(s.title)}</h3>
      <p>${escapeHtml(s.desc||"")}</p>
      <div class="actions">
        <button class="btn pink" data-order-service="${escapeHtml(s.id)}"><i class="fa-solid fa-cart-shopping"></i> Order</button>
        <button class="btn ghost" data-details-service="${escapeHtml(s.id)}"><i class="fa-solid fa-circle-info"></i> Details</button>
      </div>
    </div>
  `).join("") || `<div class="muted">No services</div>`;
}
$("#svcChips").addEventListener("click",(e)=>{
  const ch = e.target.closest("[data-svc]");
  if(!ch) return;
  svcFilter = ch.getAttribute("data-svc");
  renderServiceChips(); renderServices();
});

/* =========================
   Products UI
========================= */
let prdFilter = "All";
function productCategories(){
  const set = new Set(["All", ...CATEGORIES]);
  PRODUCTS.forEach(p=>set.add(p.category||"Other"));
  return [...set];
}
function renderProductChips(){
  const cats = productCategories();
  $("#prdChips").innerHTML = cats.map(c=>`
    <span class="chip ${c===prdFilter?"active":""}" data-prd="${escapeHtml(c)}">${escapeHtml(c)}</span>
  `).join("");
}
function renderProducts(){
  const list = PRODUCTS.filter(p => prdFilter==="All" ? true : (p.category===prdFilter));
  $("#prdGrid").innerHTML = list.map(p=>`
    <div class="card item">
      <div class="thumb">
        ${p.imageDataUrl ? `<img src="${escapeHtml(p.imageDataUrl)}" alt="product">` : `<div class="ph">No image</div>`}
      </div>
      <div style="display:flex;justify-content:space-between;gap:10px;align-items:center;margin-top:10px">
        <span class="tag"><i class="fa-solid fa-tag"></i> ${escapeHtml(p.category||"Product")}</span>
        <span style="font-weight:900">‡ß≥${escapeHtml(Number(p.price||0))}</span>
      </div>
      <h3>${escapeHtml(p.name)}</h3>
      <p>${escapeHtml(p.desc||"")}</p>
      <div class="actions">
        <button class="btn pink" data-order-product="${escapeHtml(p.id)}"><i class="fa-solid fa-cart-shopping"></i> Order</button>
        <button class="btn ghost" data-details-product="${escapeHtml(p.id)}"><i class="fa-solid fa-circle-info"></i> Details</button>
      </div>
    </div>
  `).join("") || `<div class="muted">No products</div>`;
}
$("#prdChips").addEventListener("click",(e)=>{
  const ch = e.target.closest("[data-prd]");
  if(!ch) return;
  prdFilter = ch.getAttribute("data-prd");
  renderProductChips(); renderProducts();
});

/* =========================
   Order Modal (service + product)
========================= */
const orderOverlay = $("#orderOverlay");
const orderBody = $("#orderBody");
const closeOrder = $("#closeOrder");
const cancelOrder = $("#cancelOrder");
let currentKind = null;     // "service" | "product"
let currentItem = null;
let currentComputed = { label:"", price:0 };

function openOrder(kind, item){
  currentKind = kind;
  currentItem = item;
  currentComputed = { label:"", price:0 };

  $("#orderTitle").innerHTML = `<i class="fa-solid fa-cart-shopping"></i> Order`;

  if(kind==="service"){
    orderBody.innerHTML = renderServiceOrderUI(item);
    hookServiceOrder(item);
  }else{
    orderBody.innerHTML = renderProductOrderUI(item);
    hookProductOrder(item);
  }

  orderOverlay.classList.add("show");
  orderOverlay.setAttribute("aria-hidden","false");
  document.body.classList.add("admin-open");
}

function closeOrderFn(){
  orderOverlay.classList.remove("show");
  orderOverlay.setAttribute("aria-hidden","true");
  document.body.classList.remove("admin-open");
  currentKind=null; currentItem=null;
}

closeOrder.addEventListener("click", closeOrderFn);
cancelOrder.addEventListener("click", closeOrderFn);
orderOverlay.addEventListener("click",(e)=>{ if(e.target===orderOverlay) closeOrderFn(); });

function renderPaymentBlock(){
  return `
    <div class="box" style="margin-top:12px">
      <b><i class="fa-solid fa-wallet"></i> Payment</b>
      <div class="muted" style="margin-top:6px;font-size:12.5px;line-height:1.7">
        bKash: <b style="color:var(--text)">${escapeHtml(STORE.payment.bkash)}</b><br/>
        Nagad: <b style="color:var(--text)">${escapeHtml(STORE.payment.nagad)}</b>
      </div>

      <div class="field">
        <label>Payment Method</label>
        <select id="payMethod">
          <option value="">Select</option>
          <option value="bKash">bKash</option>
          <option value="Nagad">Nagad</option>
        </select>
      </div>

      <div class="field">
        <label>Transaction ID (TrxID)</label>
        <input id="trxInput" placeholder="e.g. A1B2C3D4" />
      </div>

      <div class="field">
        <label>Extra Notes (optional)</label>
        <textarea id="noteInput" placeholder="Target country / speed / any notes..."></textarea>
      </div>
    </div>
  `;
}

function renderServiceOrderUI(s){
  const unit = s.unitType;
  const priceBlock = `
    <div class="field">
      <label>Price</label>
      <input id="priceShow" readonly value="‡ß≥0"/>
    </div>
  `;
  let selectBlock = "";
  if(unit==="PACK"){
    selectBlock = `
      <div class="field">
        <label>Package</label>
        <select id="pkgSelect">
          <option value="">Select</option>
          ${(s.packages||[]).map((p,idx)=>`<option value="${idx}">${escapeHtml(p.label)} ‚Äî ‡ß≥${escapeHtml(p.price)}</option>`).join("")}
        </select>
      </div>
    `;
  }else{
    const label = unit==="K" ? "Quantity (K)" : "Quantity (x100)";
    selectBlock = `
      <div class="field">
        <label>${label}</label>
        <select id="qtySelect">
          <option value="">Select</option>
          ${(s.qtyList||[]).map(q=>{
            const show = unit==="K" ? `${q}K` : `${q*100}`;
            return `<option value="${q}">${show}</option>`;
          }).join("")}
        </select>
      </div>
    `;
  }

  return `
    <div class="box">
      <span class="tag"><i class="${escapeHtml(s.icon||"fa-solid fa-bolt")}"></i> ${escapeHtml(s.category||"Service")}</span>
      <h3 style="margin:10px 0 6px">${escapeHtml(s.title)}</h3>
      <p class="muted" style="margin:0 0 10px;line-height:1.6;font-size:12.5px">${escapeHtml(s.desc||"")}</p>

      ${selectBlock}
      ${priceBlock}

      <div class="field">
        <label>Link / URL</label>
        <input id="urlInput" placeholder="Paste your URL here" />
      </div>

      <div class="muted" style="margin-top:10px;font-size:12.5px;line-height:1.6">
        ‚úÖ Password ‡¶≤‡¶æ‡¶ó‡¶¨‡ßá ‡¶®‡¶æ ‚Ä¢ ‚úÖ URL ‡¶†‡¶ø‡¶ï ‡¶¶‡¶ø‡¶≤‡ßá ‡¶ï‡¶æ‡¶ú ‡¶¶‡ßç‡¶∞‡ßÅ‡¶§ ‡¶π‡¶¨‡ßá
      </div>
    </div>
    ${renderPaymentBlock()}
  `;
}

function hookServiceOrder(s){
  const priceShow = $("#priceShow");
  const payMethod = $("#payMethod");
  const trxInput = $("#trxInput");
  const noteInput = $("#noteInput");
  const urlInput = $("#urlInput");

  const qtySelect = $("#qtySelect");
  const pkgSelect = $("#pkgSelect");

  if(qtySelect){
    qtySelect.addEventListener("change", ()=>{
      const v = qtySelect.value ? Number(qtySelect.value) : 0;
      if(!v){ priceShow.value="‡ß≥0"; currentComputed={label:"",price:0}; return; }
      let label="", price=0;
      if(s.unitType==="K"){ label=`${v}K`; price=v*Number(s.pricePerUnit||0); }
      if(s.unitType==="100"){ label=`${v*100}`; price=v*Number(s.pricePerUnit||0); }
      currentComputed={label,price};
      priceShow.value=`‡ß≥${price}`;
    });
  }
  if(pkgSelect){
    pkgSelect.addEventListener("change", ()=>{
      const idx = pkgSelect.value ? Number(pkgSelect.value) : -1;
      if(idx<0){ priceShow.value="‡ß≥0"; currentComputed={label:"",price:0}; return; }
      const p = (s.packages||[])[idx];
      currentComputed={label:p.label, price:Number(p.price||0)};
      priceShow.value=`‡ß≥${Number(p.price||0)}`;
    });
  }

  $("#sendWaBtn").onclick = ()=>{
    if(s.unitType==="PACK"){
      if(!pkgSelect.value) return alert("Package select ‡¶ï‡¶∞‡ßÅ‡¶®");
    }else{
      if(!qtySelect.value) return alert("Quantity select ‡¶ï‡¶∞‡ßÅ‡¶®");
    }
    if(!urlInput.value.trim()) return alert("Link/URL ‡¶¶‡¶ø‡¶®");
    if(!payMethod.value) return alert("Payment method select ‡¶ï‡¶∞‡ßÅ‡¶®");
    if(!trxInput.value.trim()) return alert("Transaction ID ‡¶¶‡¶ø‡¶®");

    const msg =
`Assalamu Alaikum,
I want to place an order.

Type: Service
Service: ${s.title}
Category: ${s.category}
Package/Qty: ${currentComputed.label}
Price: ‡ß≥${currentComputed.price}

Payment:
Method: ${payMethod.value}
TrxID: ${trxInput.value.trim()}

Link/URL:
${urlInput.value.trim()}

Notes:
${noteInput.value.trim() || "N/A"}

-- ${BRAND.name || "Saikat Tech Hub"}`;

    window.open(`https://wa.me/${STORE.waNumber}?text=${encodeURIComponent(msg)}`, "_blank", "noopener,noreferrer");
  };
}

function renderProductOrderUI(p){
  return `
    <div class="box">
      <span class="tag"><i class="fa-solid fa-bag-shopping"></i> ${escapeHtml(p.category||"Product")}</span>
      <h3 style="margin:10px 0 6px">${escapeHtml(p.name)}</h3>
      <p class="muted" style="margin:0 0 10px;line-height:1.6;font-size:12.5px">${escapeHtml(p.desc||"")}</p>

      <div class="field">
        <label>Quantity</label>
        <input id="prodQty" type="number" min="1" value="1" />
      </div>

      <div class="field">
        <label>Price</label>
        <input id="priceShow" readonly value="‡ß≥${escapeHtml(Number(p.price||0))}"/>
      </div>

      <div class="field">
        <label>Delivery Address (optional)</label>
        <textarea id="shipAddr" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®..."></textarea>
      </div>
    </div>
    ${renderPaymentBlock()}
  `;
}

function hookProductOrder(p){
  const priceShow = $("#priceShow");
  const qty = $("#prodQty");
  const payMethod = $("#payMethod");
  const trxInput = $("#trxInput");
  const noteInput = $("#noteInput");
  const shipAddr = $("#shipAddr");

  function update(){
    const q = Number(qty.value||1);
    priceShow.value = `‡ß≥${q * Number(p.price||0)}`;
  }
  qty.addEventListener("input", update);
  update();

  $("#sendWaBtn").onclick = ()=>{
    const q = Number(qty.value||1);
    if(q<1) return alert("Quantity ‡¶†‡¶ø‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®");
    if(!payMethod.value) return alert("Payment method select ‡¶ï‡¶∞‡ßÅ‡¶®");
    if(!trxInput.value.trim()) return alert("Transaction ID ‡¶¶‡¶ø‡¶®");

    const total = q * Number(p.price||0);
    const msg =
`Assalamu Alaikum,
I want to place an order.

Type: Product
Product: ${p.name}
Category: ${p.category}
SKU: ${p.sku || "N/A"}
Qty: ${q}
Total: ‡ß≥${total}

Payment:
Method: ${payMethod.value}
TrxID: ${trxInput.value.trim()}

Delivery Address (optional):
${shipAddr.value.trim() || "N/A"}

Notes:
${noteInput.value.trim() || "N/A"}

-- ${BRAND.name || "Saikat Tech Hub"}`;

    window.open(`https://wa.me/${STORE.waNumber}?text=${encodeURIComponent(msg)}`, "_blank", "noopener,noreferrer");
  };
}

/* clicks */
document.addEventListener("click",(e)=>{
  const os = e.target.closest("[data-order-service]");
  const ds = e.target.closest("[data-details-service]");
  const op = e.target.closest("[data-order-product]");
  const dp = e.target.closest("[data-details-product]");

  if(os){
    const id = os.getAttribute("data-order-service");
    const s = SERVICES.find(x=>x.id===id);
    if(s) openOrder("service", s);
  }
  if(ds){
    const id = ds.getAttribute("data-details-service");
    const s = SERVICES.find(x=>x.id===id);
    if(!s) return;
    alert(`${s.title}\n\n${s.desc}\n\nCategory: ${s.category}\nUnit: ${s.unitType}`);
  }
  if(op){
    const id = op.getAttribute("data-order-product");
    const p = PRODUCTS.find(x=>x.id===id);
    if(p) openOrder("product", p);
  }
  if(dp){
    const id = dp.getAttribute("data-details-product");
    const p = PRODUCTS.find(x=>x.id===id);
    if(!p) return;
    alert(`${p.name}\n\n${p.desc}\n\nCategory: ${p.category}\nSKU: ${p.sku || "N/A"}\nPrice: ‡ß≥${p.price}`);
  }
});

/* =========================
   Admin (only you)
========================= */
const adminOverlay = $("#adminOverlay");
const adminBody = $("#adminBody");

function isAdmin(){ return sessionStorage.getItem(LS_ADMIN_SESSION)==="1"; }

function openAdmin(){
  adminOverlay.classList.add("show");
  adminOverlay.setAttribute("aria-hidden","false");
  document.body.classList.add("admin-open");
  renderAdmin();
}
function closeAdminFn(){
  adminOverlay.classList.remove("show");
  adminOverlay.setAttribute("aria-hidden","true");
  document.body.classList.remove("admin-open");
}
$("#openAdminBtn").addEventListener("click", openAdmin);
$("#closeAdmin").addEventListener("click", closeAdminFn);
$("#adminCloseBtn").addEventListener("click", closeAdminFn);
adminOverlay.addEventListener("click",(e)=>{ if(e.target===adminOverlay) closeAdminFn(); });

function adminLogin(user,pass){
  if(user===adminCreds.user && pass===adminCreds.pass){
    sessionStorage.setItem(LS_ADMIN_SESSION,"1");
    toast("Login","Admin access granted ‚úÖ","success",1300);
    renderAdminDashboard();
  }else{
    toast("Denied","Wrong username/password","error",1900);
  }
}
function adminLogout(){
  sessionStorage.removeItem(LS_ADMIN_SESSION);
  sessionStorage.removeItem(LS_PRIV_UNLOCK);
  toast("Logout","Session ended ‚úÖ","success",1200);
  renderAdmin();
}

function renderAdmin(){
  if(!isAdmin()) return renderAdminLogin();
  return renderAdminDashboard();
}

function renderAdminLogin(){
  adminBody.innerHTML = `
    <div class="box">
      <b style="display:flex;align-items:center;gap:10px"><i class="fa-solid fa-lock"></i> Login</b>
      <p class="muted" style="margin:6px 0 0;font-size:12.5px;line-height:1.6;font-family:'Hind Siliguri'">
        ‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶Ü‡¶™‡¶®‡¶ø Admin access ‡¶™‡¶æ‡¶¨‡ßá‡¶®‡•§
      </p>

      <div class="field">
        <label>Username</label>
        <input id="aUser" placeholder="saikat@gmail.com" autocomplete="username"/>
      </div>

      <div class="field">
        <label>Password</label>
        <div style="display:flex;gap:10px;align-items:center">
          <input id="aPass" type="password" placeholder="********" autocomplete="current-password" style="flex:1"/>
          <button class="btn ghost" id="togglePass" type="button" style="padding:11px 12px;border-radius:14px">
            <i class="fa-solid fa-eye"></i>
          </button>
        </div>
      </div>

      <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:12px">
        <button class="btn pink" id="aLogin" type="button"><i class="fa-solid fa-right-to-bracket"></i> Login</button>
        <button class="btn ghost" id="aClose" type="button"><i class="fa-solid fa-xmark"></i> Close</button>
      </div>
    </div>
  `;

  const aPass = $("#aPass");
  $("#togglePass").addEventListener("click", ()=>{
    aPass.type = aPass.type==="password" ? "text" : "password";
    $("#togglePass").innerHTML = aPass.type==="password" ? `<i class="fa-solid fa-eye"></i>` : `<i class="fa-solid fa-eye-slash"></i>`;
  });

  $("#aLogin").addEventListener("click", ()=>{
    adminLogin($("#aUser").value.trim(), $("#aPass").value);
  });
  $("#aClose").addEventListener("click", closeAdminFn);
}

function renderAdminDashboard(){
  adminBody.innerHTML = `
    <div class="box">
      <div style="display:flex;justify-content:space-between;align-items:center;gap:10px;flex-wrap:wrap">
        <b><i class="fa-solid fa-grid-2"></i> Dashboard</b>
        <button class="btn ghost" id="aLogout" type="button"><i class="fa-solid fa-right-from-bracket"></i> Logout</button>
      </div>

      <div style="display:grid;grid-template-columns:1fr;gap:10px;margin-top:12px">
        <button class="btn dark" data-page="branding" type="button"><i class="fa-solid fa-image"></i> Branding (Logo/Cover/Text)</button>
        <button class="btn dark" data-page="services" type="button"><i class="fa-solid fa-share-nodes"></i> Services (Add/Edit)</button>
        <button class="btn dark" data-page="products" type="button"><i class="fa-solid fa-bag-shopping"></i> Products (Add/Edit)</button>
        <button class="btn dark" data-page="categories" type="button"><i class="fa-solid fa-layer-group"></i> Categories</button>
        <button class="btn dark" data-page="contact" type="button"><i class="fa-solid fa-wallet"></i> Payment/Contact</button>
        <button class="btn dark" data-page="privacy" type="button"><i class="fa-solid fa-user-shield"></i> Privacy (Change Admin Pass)</button>
      </div>
    </div>

    <div class="box" style="margin-top:12px" id="adminPage">
      <div class="muted" style="font-family:'Hind Siliguri'">‡¶è‡¶ï‡¶ü‡¶æ ‡¶Ö‡¶™‡¶∂‡¶® ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®‚Ä¶</div>
    </div>
  `;

  $("#aLogout").addEventListener("click", adminLogout);

  adminBody.addEventListener("click",(e)=>{
    const b = e.target.closest("[data-page]");
    if(!b) return;
    const page = b.getAttribute("data-page");
    if(page==="branding") return renderBrandingAdmin();
    if(page==="services") return renderServicesAdmin();
    if(page==="products") return renderProductsAdmin();
    if(page==="categories") return renderCategoriesAdmin();
    if(page==="contact") return renderContactAdmin();
    if(page==="privacy") return renderPrivacyAdmin();
  }, { once:true }); // prevent duplicate binding on rerender
}

function adminPageSet(html){
  $("#adminPage").innerHTML = html;
}

/* Drag/drop helper */
function fileToDataUrl(file){
  return new Promise((resolve,reject)=>{
    const r = new FileReader();
    r.onload = ()=>resolve(String(r.result||""));
    r.onerror = reject;
    r.readAsDataURL(file);
  });
}
function dropZone(id,label){
  return `
    <div class="box" id="${id}" style="border-style:dashed">
      <b>${escapeHtml(label)}</b>
      <div class="muted" style="margin-top:6px;font-size:12.5px;font-family:'Hind Siliguri'">Drag & drop ‡¶Ö‡¶•‡¶¨‡¶æ Choose</div>
      <input type="file" accept="image/*" id="${id}_file" style="display:none"/>
      <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:10px">
        <button class="btn pink" id="${id}_choose" type="button"><i class="fa-solid fa-upload"></i> Choose</button>
        <button class="btn ghost" id="${id}_remove" type="button"><i class="fa-solid fa-trash"></i> Remove</button>
      </div>
      <div class="thumb" style="margin-top:10px" id="${id}_prev"><div class="ph">No image</div></div>
    </div>
  `;
}
async function hookDrop(id, getter, setter, onSaved){
  const box = document.getElementById(id);
  const file = document.getElementById(id+"_file");
  const prev = document.getElementById(id+"_prev");
  const choose = document.getElementById(id+"_choose");
  const remove = document.getElementById(id+"_remove");

  function setPrev(d){
    prev.innerHTML = d ? `<img src="${escapeHtml(d)}" alt="img">` : `<div class="ph">No image</div>`;
  }
  setPrev(getter()||"");

  choose.addEventListener("click", ()=>file.click());
  file.addEventListener("change", async ()=>{
    const f = file.files && file.files[0];
    if(!f) return;
    const d = await fileToDataUrl(f);
    setter(d);
    onSaved();
    setPrev(d);
  });
  remove.addEventListener("click", ()=>{
    setter("");
    onSaved();
    setPrev("");
  });

  box.addEventListener("dragover",(e)=>{ e.preventDefault(); box.style.borderColor="rgba(59,130,246,.8)"; });
  box.addEventListener("dragleave",()=>{ box.style.borderColor="var(--line)"; });
  box.addEventListener("drop", async (e)=>{
    e.preventDefault();
    box.style.borderColor="var(--line)";
    const f = e.dataTransfer.files && e.dataTransfer.files[0];
    if(!f) return;
    const d = await fileToDataUrl(f);
    setter(d);
    onSaved();
    setPrev(d);
  });
}

/* Branding admin */
function renderBrandingAdmin(){
  adminPageSet(`
    <b><i class="fa-solid fa-image"></i> Branding</b>
    <div class="field"><label>Brand Name</label><input id="bName" value="${escapeHtml(BRAND.name||"")}"></div>
    <div class="field"><label>Cover Title</label><input id="bTitle" value="${escapeHtml(BRAND.title||"")}"></div>
    <div class="field"><label>Tagline</label><textarea id="bTag">${escapeHtml(BRAND.tagline||"")}</textarea></div>
    <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:10px">
      <button class="btn pink" id="saveBrandText" type="button"><i class="fa-solid fa-floppy-disk"></i> Save Text</button>
    </div>

    <div style="height:10px"></div>
    ${dropZone("logoDrop","Logo Upload")}
    <div style="height:10px"></div>
    ${dropZone("coverDrop","Cover Upload")}
  `);

  $("#saveBrandText").addEventListener("click", ()=>{
    BRAND.name = $("#bName").value.trim() || "Saikat Tech Hub";
    BRAND.title = $("#bTitle").value.trim() || "Assalamu Alaikum üëã";
    BRAND.tagline = $("#bTag").value.trim() || "";
    writeJSON(LS_BRAND, BRAND);
    renderBrand();
    toast("Saved","Brand updated ‚úÖ","success",1200);
  });

  hookDrop(
    "logoDrop",
    ()=>BRAND.logoDataUrl,
    (d)=>{ BRAND.logoDataUrl=d; writeJSON(LS_BRAND, BRAND); },
    ()=>{ renderBrand(); toast("Saved","Logo updated ‚úÖ","success",1100); }
  );

  hookDrop(
    "coverDrop",
    ()=>BRAND.coverDataUrl,
    (d)=>{ BRAND.coverDataUrl=d; writeJSON(LS_BRAND, BRAND); },
    ()=>{ renderBrand(); toast("Saved","Cover updated ‚úÖ","success",1100); }
  );
}

/* Categories admin */
function renderCategoriesAdmin(){
  adminPageSet(`
    <b><i class="fa-solid fa-layer-group"></i> Categories</b>
    <div class="field"><label>Add Category</label><input id="newCat" placeholder="Gadget/Fashion/..."></div>
    <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:10px">
      <button class="btn pink" id="addCat" type="button"><i class="fa-solid fa-plus"></i> Add</button>
    </div>
    <div style="margin-top:12px;display:flex;gap:10px;flex-wrap:wrap" id="catWrap"></div>
  `);

  function redraw(){
    $("#catWrap").innerHTML = CATEGORIES.map(c=>`
      <span class="tag" style="gap:10px">
        ${escapeHtml(c)}
        <button class="btn ghost" data-del-cat="${escapeHtml(c)}" style="padding:8px 10px;border-radius:999px">
          <i class="fa-solid fa-trash"></i>
        </button>
      </span>
    `).join("");
  }
  redraw();

  $("#addCat").addEventListener("click", ()=>{
    const v = $("#newCat").value.trim();
    if(!v) return toast("Missing","Category name ‡¶¶‡¶ø‡¶®","error",1500);
    if(CATEGORIES.some(x=>x.toLowerCase()===v.toLowerCase())) return toast("Exists","Already ‡¶Ü‡¶õ‡ßá","error",1500);
    CATEGORIES = [...CATEGORIES, v];
    writeJSON(LS_CATS, CATEGORIES);
    toast("Added","Category added ‚úÖ","success",1200);
    renderProductChips(); renderProducts();
    redraw();
  });

  $("#catWrap").addEventListener("click",(e)=>{
    const b = e.target.closest("[data-del-cat]");
    if(!b) return;
    const c = b.getAttribute("data-del-cat");
    if(!confirm(`Delete category: ${c} ?`)) return;
    CATEGORIES = CATEGORIES.filter(x=>x!==c);
    writeJSON(LS_CATS, CATEGORIES);
    toast("Deleted","Category removed ‚úÖ","success",1200);
    renderProductChips(); renderProducts();
    redraw();
  });
}

/* Services admin (simple add + list edit via prompt) */
function renderServicesAdmin(){
  adminPageSet(`
    <b><i class="fa-solid fa-share-nodes"></i> Services</b>

    <div class="box" style="margin-top:10px">
      <b>+ Add New Service</b>
      <div class="field"><label>Title</label><input id="sTitle" placeholder="Facebook Followers"></div>
      <div class="field"><label>Description</label><textarea id="sDesc" placeholder="Safe ‚Ä¢ No password"></textarea></div>
      <div class="field"><label>Category</label><input id="sCat" placeholder="Facebook / YouTube / Marketing"></div>
      <div class="field"><label>Icon class (FontAwesome)</label><input id="sIcon" placeholder="fa-brands fa-facebook"></div>

      <div class="field">
        <label>Unit Type</label>
        <select id="sUnit">
          <option value="K">K (per 1K)</option>
          <option value="100">100 (per 100)</option>
          <option value="PACK">PACK (packages)</option>
        </select>
      </div>

      <div id="sKBox">
        <div class="field"><label>Price Per Unit</label><input id="sRate" type="number" min="0" placeholder="120"></div>
        <div class="field"><label>Qty List (comma separated)</label><input id="sQty" placeholder="1,2,3,5,10"></div>
      </div>

      <div id="sPackBox" style="display:none">
        <div class="field"><label>Packages (JSON)</label>
          <textarea id="sPacks" placeholder='[{"label":"Basic","price":300,"note":"..."}]'></textarea>
        </div>
      </div>

      <div class="field"><label>Tags (comma separated)</label><input id="sTags" placeholder="Popular,Fast,Safe"></div>

      <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:10px">
        <button class="btn pink" id="addService" type="button"><i class="fa-solid fa-plus"></i> Add Service</button>
      </div>
    </div>

    <div class="box" style="margin-top:12px">
      <b>Service List</b>
      <div id="svcList" style="margin-top:10px;display:grid;gap:10px"></div>
    </div>
  `);

  const sUnit = $("#sUnit");
  sUnit.addEventListener("change", ()=>{
    const v = sUnit.value;
    $("#sKBox").style.display = v==="PACK" ? "none" : "block";
    $("#sPackBox").style.display = v==="PACK" ? "block" : "none";
  });

  $("#addService").addEventListener("click", ()=>{
    const title = $("#sTitle").value.trim();
    if(!title) return toast("Missing","Title ‡¶¶‡¶ø‡¶®","error",1500);
    const desc = $("#sDesc").value.trim();
    const category = $("#sCat").value.trim() || "Social";
    const icon = $("#sIcon").value.trim() || "fa-solid fa-bolt";
    const unitType = $("#sUnit").value;
    const tags = $("#sTags").value.split(",").map(x=>x.trim()).filter(Boolean).slice(0,6);

    let s = { id: makeId("svc"), category, icon, title, desc, unitType, tags };

    if(unitType==="PACK"){
      try{
        const packs = JSON.parse($("#sPacks").value || "[]");
        if(!Array.isArray(packs) || packs.length===0) return toast("Missing","Packages JSON ‡¶¶‡¶ø‡¶®","error",1700);
        s.packages = packs.map(p=>({label:String(p.label||""), price:Number(p.price||0), note:String(p.note||"")}));
      }catch{
        return toast("Error","Packages JSON invalid","error",1700);
      }
    }else{
      const rate = Number($("#sRate").value||0);
      const qtyList = $("#sQty").value.split(",").map(x=>Number(x.trim())).filter(n=>Number.isFinite(n) && n>0);
      if(rate<=0) return toast("Missing","Rate ‡¶¶‡¶ø‡¶®","error",1500);
      if(qtyList.length===0) return toast("Missing","Qty list ‡¶¶‡¶ø‡¶®","error",1500);
      s.pricePerUnit = rate;
      s.qtyList = qtyList;
    }

    SERVICES = [s, ...SERVICES];
    writeJSON(LS_SERVICES, SERVICES);
    toast("Added","Service added ‚úÖ","success",1200);
    renderServiceChips(); renderServices();
    renderServicesAdmin();
  });

  function redraw(){
    $("#svcList").innerHTML = SERVICES.map(s=>`
      <div class="card">
        <div style="display:flex;justify-content:space-between;gap:10px;align-items:center">
          <span class="tag"><i class="${escapeHtml(s.icon||"fa-solid fa-bolt")}"></i> ${escapeHtml(s.category)}</span>
          <span class="muted" style="font-size:12px">${escapeHtml(s.unitType)}</span>
        </div>
        <div style="font-weight:900;margin-top:8px">${escapeHtml(s.title)}</div>
        <div class="muted" style="margin-top:4px;font-size:12.5px;line-height:1.6">${escapeHtml(s.desc||"")}</div>
        <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:10px">
          <button class="btn ghost" data-edit-svc="${escapeHtml(s.id)}" style="padding:10px 12px"><i class="fa-solid fa-pen"></i> Edit</button>
          <button class="btn ghost" data-del-svc="${escapeHtml(s.id)}" style="padding:10px 12px"><i class="fa-solid fa-trash"></i> Delete</button>
        </div>
      </div>
    `).join("") || `<div class="muted">No services</div>`;
  }
  redraw();

  $("#svcList").addEventListener("click",(e)=>{
    const del = e.target.closest("[data-del-svc]");
    const ed = e.target.closest("[data-edit-svc]");
    if(del){
      const id = del.getAttribute("data-del-svc");
      const s = SERVICES.find(x=>x.id===id);
      if(!s) return;
      if(!confirm(`Delete: ${s.title}?`)) return;
      SERVICES = SERVICES.filter(x=>x.id!==id);
      writeJSON(LS_SERVICES, SERVICES);
      toast("Deleted","Service removed ‚úÖ","success",1100);
      renderServiceChips(); renderServices();
      renderServicesAdmin();
    }
    if(ed){
      const id = ed.getAttribute("data-edit-svc");
      const idx = SERVICES.findIndex(x=>x.id===id);
      if(idx<0) return;
      const s = SERVICES[idx];

      const newTitle = prompt("Title:", s.title) ?? s.title;
      const newDesc = prompt("Description:", s.desc||"") ?? (s.desc||"");
      const newCat = prompt("Category:", s.category||"") ?? (s.category||"");
      const newIcon = prompt("Icon class:", s.icon||"") ?? (s.icon||"");

      SERVICES[idx] = {...s, title:newTitle.trim()||s.title, desc:newDesc.trim(), category:newCat.trim()||s.category, icon:newIcon.trim()||s.icon};
      writeJSON(LS_SERVICES, SERVICES);
      toast("Saved","Service updated ‚úÖ","success",1100);
      renderServiceChips(); renderServices();
      renderServicesAdmin();
    }
  });
}

/* Products admin (add + list edit via prompt + image upload) */
function renderProductsAdmin(){
  adminPageSet(`
    <b><i class="fa-solid fa-bag-shopping"></i> Products</b>

    <div class="box" style="margin-top:10px">
      <b>+ Add New Product</b>
      ${dropZone("pDrop","Product Image")}
      <div class="field"><label>Product Name</label><input id="pName" placeholder="Product name"></div>
      <div class="field"><label>SKU</label><input id="pSku" placeholder="SKU-001"></div>
      <div class="field"><label>Category</label>
        <select id="pCat">${CATEGORIES.map(c=>`<option value="${escapeHtml(c)}">${escapeHtml(c)}</option>`).join("")}</select>
      </div>
      <div class="field"><label>Price</label><input id="pPrice" type="number" min="0" placeholder="899"></div>
      <div class="field"><label>Description</label><textarea id="pDesc" placeholder="Product description..."></textarea></div>

      <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:10px">
        <button class="btn pink" id="addProduct" type="button"><i class="fa-solid fa-plus"></i> Add Product</button>
      </div>
    </div>

    <div class="box" style="margin-top:12px">
      <b>Product List</b>
      <div id="prdList" style="margin-top:10px;display:grid;gap:10px"></div>
    </div>
  `);

  let newImg = "";
  hookDrop(
    "pDrop",
    ()=>newImg,
    (d)=>{ newImg=d; },
    ()=>{}
  );

  $("#addProduct").addEventListener("click", ()=>{
    const name = $("#pName").value.trim();
    const price = Number($("#pPrice").value||0);
    if(!name) return toast("Missing","Name ‡¶¶‡¶ø‡¶®","error",1500);
    if(price<=0) return toast("Missing","Price ‡¶¶‡¶ø‡¶®","error",1500);

    const p = {
      id: makeId("p"),
      category: $("#pCat").value,
      name,
      sku: $("#pSku").value.trim(),
      price,
      desc: $("#pDesc").value.trim(),
      imageDataUrl: newImg
    };
    PRODUCTS = [p, ...PRODUCTS];
    writeJSON(LS_PRODUCTS, PRODUCTS);
    toast("Added","Product added ‚úÖ","success",1100);
    renderProductChips(); renderProducts();
    renderProductsAdmin();
  });

  function redraw(){
    $("#prdList").innerHTML = PRODUCTS.map(p=>`
      <div class="card">
        <div class="thumb" style="height:120px">
          ${p.imageDataUrl ? `<img src="${escapeHtml(p.imageDataUrl)}">` : `<div class="ph">No image</div>`}
        </div>
        <div style="display:flex;justify-content:space-between;gap:10px;align-items:center;margin-top:10px">
          <span class="tag"><i class="fa-solid fa-tag"></i> ${escapeHtml(p.category)}</span>
          <span style="font-weight:900">‡ß≥${escapeHtml(Number(p.price||0))}</span>
        </div>
        <div style="font-weight:900;margin-top:8px">${escapeHtml(p.name)}</div>
        <div class="muted" style="margin-top:4px;font-size:12.5px;line-height:1.6">${escapeHtml(p.desc||"")}</div>
        <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:10px">
          <button class="btn ghost" data-edit-prd="${escapeHtml(p.id)}" style="padding:10px 12px"><i class="fa-solid fa-pen"></i> Edit</button>
          <button class="btn ghost" data-del-prd="${escapeHtml(p.id)}" style="padding:10px 12px"><i class="fa-solid fa-trash"></i> Delete</button>
        </div>
      </div>
    `).join("") || `<div class="muted">No products</div>`;
  }
  redraw();

  $("#prdList").addEventListener("click",(e)=>{
    const del = e.target.closest("[data-del-prd]");
    const ed = e.target.closest("[data-edit-prd]");
    if(del){
      const id = del.getAttribute("data-del-prd");
      const p = PRODUCTS.find(x=>x.id===id);
      if(!p) return;
      if(!confirm(`Delete: ${p.name}?`)) return;
      PRODUCTS = PRODUCTS.filter(x=>x.id!==id);
      writeJSON(LS_PRODUCTS, PRODUCTS);
      toast("Deleted","Product removed ‚úÖ","success",1100);
      renderProductChips(); renderProducts();
      renderProductsAdmin();
    }
    if(ed){
      const id = ed.getAttribute("data-edit-prd");
      const idx = PRODUCTS.findIndex(x=>x.id===id);
      if(idx<0) return;
      const p = PRODUCTS[idx];

      const nn = prompt("Name:", p.name) ?? p.name;
      const nd = prompt("Description:", p.desc||"") ?? (p.desc||"");
      const ns = prompt("SKU:", p.sku||"") ?? (p.sku||"");
      const np = Number(prompt("Price:", String(p.price||0)) ?? p.price);

      PRODUCTS[idx] = {...p, name:nn.trim()||p.name, desc:nd.trim(), sku:ns.trim(), price: Number.isFinite(np)?np:p.price};
      writeJSON(LS_PRODUCTS, PRODUCTS);
      toast("Saved","Product updated ‚úÖ","success",1100);
      renderProductChips(); renderProducts();
      renderProductsAdmin();
    }
  });
}

/* Contact/payment admin */
function renderContactAdmin(){
  adminPageSet(`
    <b><i class="fa-solid fa-wallet"></i> Payment/Contact</b>

    <div class="field"><label>WhatsApp (international)</label><input id="stWaNum" value="${escapeHtml(STORE.waNumber)}"></div>
    <div class="field"><label>WhatsApp display</label><input id="stWaRaw" value="${escapeHtml(STORE.waRaw)}"></div>
    <div class="field"><label>Email</label><input id="stEmail" value="${escapeHtml(STORE.email)}"></div>
    <div class="field"><label>Facebook link</label><input id="stFb" value="${escapeHtml(STORE.fb)}"></div>
    <div class="field"><label>Address</label><input id="stAddr" value="${escapeHtml(STORE.address)}"></div>

    <div class="field"><label>bKash</label><input id="stBkash" value="${escapeHtml(STORE.payment.bkash)}"></div>
    <div class="field"><label>Nagad</label><input id="stNagad" value="${escapeHtml(STORE.payment.nagad)}"></div>

    <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:10px">
      <button class="btn pink" id="saveStoreBtn" type="button"><i class="fa-solid fa-floppy-disk"></i> Save</button>
    </div>
  `);

  $("#saveStoreBtn").addEventListener("click", ()=>{
    STORE.waNumber = $("#stWaNum").value.trim() || STORE.waNumber;
    STORE.waRaw = $("#stWaRaw").value.trim() || STORE.waRaw;
    STORE.email = $("#stEmail").value.trim() || STORE.email;
    STORE.fb = $("#stFb").value.trim() || STORE.fb;
    STORE.address = $("#stAddr").value.trim() || STORE.address;
    STORE.payment = { bkash: $("#stBkash").value.trim() || STORE.payment.bkash, nagad: $("#stNagad").value.trim() || STORE.payment.nagad };
    writeJSON(LS_STORE, STORE);
    bindTopLinks(); renderBrand();
    toast("Saved","Contact updated ‚úÖ","success",1100);
  });
}

/* Privacy: change admin user/pass (requires privacy pass) */
function renderPrivacyAdmin(){
  const unlocked = sessionStorage.getItem(LS_PRIV_UNLOCK)==="1";
  if(!unlocked){
    adminPageSet(`
      <b><i class="fa-solid fa-user-shield"></i> Privacy</b>
      <div class="muted" style="margin-top:6px;font-size:12.5px;line-height:1.6;font-family:'Hind Siliguri'">
        Admin username/password change ‡¶ï‡¶∞‡¶§‡ßá Privacy pass ‡¶≤‡¶æ‡¶ó‡¶¨‡ßá‡•§
      </div>
      <div class="field"><label>Privacy Pass</label><input id="pPass" type="password" placeholder="Enter privacy pass"></div>
      <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:10px">
        <button class="btn pink" id="unlockPriv" type="button"><i class="fa-solid fa-unlock"></i> Unlock</button>
      </div>
    `);

    $("#unlockPriv").addEventListener("click", ()=>{
      if($("#pPass").value === PRIVACY_PASS){
        sessionStorage.setItem(LS_PRIV_UNLOCK,"1");
        toast("Unlocked","Privacy open ‚úÖ","success",1100);
        renderPrivacyAdmin();
      }else{
        toast("Denied","Wrong privacy pass ‚ùå","error",1600);
      }
    });
    return;
  }

  adminPageSet(`
    <b><i class="fa-solid fa-user-shield"></i> Privacy</b>
    <div class="field"><label>Admin Username</label><input id="newAU" value="${escapeHtml(adminCreds.user)}"></div>
    <div class="field"><label>Admin Password</label><input id="newAP" value="${escapeHtml(adminCreds.pass)}"></div>
    <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:10px">
      <button class="btn pink" id="saveCreds" type="button"><i class="fa-solid fa-floppy-disk"></i> Save</button>
      <button class="btn ghost" id="lockPriv" type="button"><i class="fa-solid fa-lock"></i> Lock</button>
    </div>
    <div class="muted" style="margin-top:10px;font-size:12.5px;line-height:1.6;font-family:'Hind Siliguri'">
      ‚úÖ Save ‡¶ï‡¶∞‡¶≤‡ßá ‡¶®‡¶§‡ßÅ‡¶® username/password ‡¶¶‡¶ø‡ßü‡ßá ‡¶Ü‡¶¨‡¶æ‡¶∞ login ‡¶ï‡¶∞‡¶§‡ßá ‡¶π‡¶¨‡ßá‡•§
    </div>
  `);

  $("#saveCreds").addEventListener("click", ()=>{
    const u = $("#newAU").value.trim();
    const p = $("#newAP").value;
    if(!u || !p) return toast("Missing","Username/password required","error",1600);
    adminCreds = { user:u, pass:p };
    writeJSON(LS_ADMIN_CREDS, adminCreds);
    toast("Saved","Admin login updated ‚úÖ","success",1200);
  });
  $("#lockPriv").addEventListener("click", ()=>{
    sessionStorage.removeItem(LS_PRIV_UNLOCK);
    toast("Locked","Privacy locked ‚úÖ","success",1100);
    renderPrivacyAdmin();
  });
}

/* =========================
   Init
========================= */
(function init(){
  bindTopLinks();
  renderBrand();
  renderServiceChips(); renderServices();
  renderProductChips(); renderProducts();
})();
</script>

</body>
</html>